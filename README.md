# 『つながり日記』

> 子供の無意識の行動（音声と位置情報）をAIが解釈し、子供の視点に立った“絵日記”として自動生成するスマートフォン用Webアプリ
---
#紹介動画
---
<p align="center">
  <a href="https://youtu.be/etxprwFgTLQ" target="_blank">
    <img src="https://img.shields.io/badge/▶%20Watch%20Demo%20Video-red?style=for-the-badge&logo=youtube" 
         alt="デモ動画を見る">
  </a>
</p>

<p align="center"> <a href="https://youtu.be/etxprwFgTLQ" target="_blank"> <picture> <source media="(min-width:800px)" srcset="https://img.youtube.com/vi/etxprwFgTLQ/maxresdefault.jpg"> <img src="https://img.youtube.com/vi/etxprwFgTLQ/hqdefault.jpg" alt="デモ動画（新）サムネイル" width="720"> </picture> </a> </p>

<!-- ▲ ここまで追加 ▲ -->
---
>メイン画面
<p align="center">
  <img src="https://github.com/user-attachments/assets/c2789bb8-2654-410e-9b34-36ff397d5690" width="400px" alt="アプリのメイン画面">
</p>

---

---

## 📖 概要

### 製品概要
子供の**無意識の行動（音声と位置情報）**を`AI`が解釈し、**子供の視点に立った“絵日記”**として自動生成するスマートフォン用Webアプリ

### テーマ
つながり ✖ Tech

### 背景(製品開発のきっかけ、課題等）
**共働き家庭の増加**による**親子間のコミュニケーション時間**の減少

### ターゲット
**3歳〜10歳のお子さんを持つ共働き世帯の親**（特に子育て中のデジタルネイティブ世代）

### 製品説明（具体的な製品の説明）
共働き家庭における**親子間のコミュニケーション減少**という課題を解決するために，以下の3つの機能を実装した．
* **音声と位置情報から活動イベント推定**  
    子供の無意識な音声と位置情報を活用し，`生成AI`が**「〇〇公園で遊んだ」**，**「〇〇保育園で絵を描いた」**といった具体的な活動イベントを推測
* **生成AIによる絵日記作成**  
    推定されたイベントから重要な項目を抽出し、**子供が描いたような優しい絵**と、**子供が書いたような温かい文章**で構成される絵日記を自動生成する．これにより，親は子供の日常を**楽しく振り返る**ことができる．
* **家族間の共有機能**  
    生成された絵日記はWebアプリ上の**カレンダー上で簡単に閲覧・共有**でき，遠方の親戚や単身赴任の方とも子供の成長を分ち合うことができる．

---

## ✨ 特徴

#### **特徴1：優しいUIと子供の感性再現**
家族の温かさが感じられるようなUI設計に加え，**子供がクレヨンで描く絵の質感**や**子供が書くような文字**を再現した．

#### **特徴2：子供が自身で作成した絵日記を実際に読んでいるかのような体験の提供**
子供がクレヨンで描く絵の感じと，子供が書く字を再現

#### **特徴3：ストレスフリーな体験**
`生成AI`を3回使用しても**平均処理時間`30秒`**，長くても`1分`以内という絵日記生成処理を実現

#### **特徴4：AIプロンプトによる安定した高品質な絵日記生成**
`生成AI`を複数回使用する複雑な処理にも関わらず，**プロンプトを高度に工夫**することで，出力される文章の体裁や文字数，絵のスタイルなどのどの条件も**常に安定して生成可能**

#### **特徴5：処理時間の速さ**
データベースの行数にもよるが，`生成AI`を3回使用で**平均処理時間`30秒`**，長くても`1分`程度の速さ

---

## 💡 解決出来ること

* **具体的なコミュニケーション**の提供
* 大きなイベントではない**日常的な子供の成長**の記録
* 家族だけでなく親戚にも共有することで，**遠く離れていても身近に感じる**ことが可能

---

## 🚀 今後の展望

* 共働きを家庭だけでなく，**高齢者の見守り**や**認知症の方の活動記録**など，対象人物の拡大
* **リアルタイム見守り機能**の実装
* **子供の感情解析**に基づく絵日記の最適化

---

## ✏️ 注力したこと（こだわり等）

* `生成AI`を複数回使用しても，同じような条件の出力（文章の体裁や文字数）を再現するための**プロンプト**
* **子供が書いたような絵日記**の生成
* **位置情報（緯度経度）から周辺にある施設**（「〇〇公園」「△△保育園」）への変換

---

## 🛠️ 開発技術

### 活用した技術：選定理由

#### **API・データ**
* **`Chat GPT`**：モデルの種類が他の`AI`より豊富
* **`Google Map`**：位置情報を取得するのに最適で，広く使われている

#### **使用言語**
* **フロントエンド**
    * `HTML`, `CSS`：開発初心者が扱いやすい言語であるため，また，`JavaScript`と相性が良いため
    * `Javascript`：カレンダーのスワイプを実装したいと考えたため
* **バックエンド**
    * `php`：データベースとの連携のしやすさや環境構築が容易であるため
    * `SQL`：データベースが必要であるため

#### **デバイス**
* **スマートフォン**

---

### 独自技術

#### **ハッカソンで開発した独自機能・技術**

* **位置情報から「行動文脈」を自動生成する推定エンジン**
**概要**：単なる`GPS`座標の羅列を**「いつ，どこで，何をしていたか」**という具体的な**『行動文脈』**に変換する独自開発の推定エンジン．以下の3つの機能で構成される．
    1.  **行動セグメンテーション：`GPS`からの「滞在・移動」の自動抽出**  
        子供のスマートフォンから得られる位置情報は，そのままでは意味のない座標の連続であるため，**時系列データ**における座標間の**距離と経過時間**を解析し，子供の行動を**「移動」と「滞在」の行動セグメント**に自動で切り分けるアルゴリズムを実装．これにより，ノイズの多いデータから「〇〇にいた時間」，「××へ向かっていた時間」という行動の基本単位を**正確に抽出**可能になる．
    2.  **セマンティックラベリング：滞在地点への「意味」の自動付与**  　　
        抽出した「滞在」セグメントが「どのような場所か」を特定するために，`Google Places API`と連携させた．これにより，緯度経度情報から最も可能性の高い施設名（例：「〇〇公園」「△△保育園」）を自動で取得し，行動セグメントに**意味を付与**する．これにより，「座標(xx.xxx, yy.yyy)に30分滞在」という無機質なデータが，**「〇〇公園に30分滞在」**という保護者にとって**理解しやすい情報に変換**される．
    3.  **シミュレーションによる高精度なアルゴリズム検証**  
        実環境の`GPS`データはノイズが多く，アルゴリズムの検証が困難であるため，`Leaflet.js`を用いて「自宅→施設→自宅」のような**仮想的な行動シナリオをシミュレート**する検証環境を独自に構築．このシミュレーションにより，様々な移動速度や滞在時間におけるアルゴリズムの挙動を**可視化・分析**し，滞在判定の閾値などを最適化．これにより，実際の子供の多様な行動パターンに対応できる，**再現性と精度の高い行動推定**を実現．

* **独自の多段階プロンプトエンジニアリング**
    安定した絵日記生成を実現するための複数ステップにわたる`ChatGPT`の**プロンプトチェーンの設計と調整**

---

## 🖼️ スクリーンショット

<p align="center">
  <img src="https://github.com/user-attachments/assets/c2789bb8-2654-410e-9b34-36ff397d5690" width="350px" alt="ホーム画面">
  <img src="https://github.com/user-attachments/assets/c828afdd-9003-4f07-85fe-1c6943915e4e" width="350px" alt="音声記録画面">
</p>
<p align="center">
  <sup><b>左画像</b>：ホーム画面，<b>右画像</b>：右画像の「絵日記を書く」ボタンを押下後，音声データを記録し，表示する画面</sup>
</p>
<br>
<p align="center">
  <img src="https://github.com/user-attachments/assets/9d944958-2fec-4352-831c-b288f8424ac6" width="350px" alt="カレンダー画面">
  <img src="https://github.com/user-attachments/assets/1f092ba2-5659-4741-8a6e-e4236fd6537c" width="350px" alt="絵日記の例">
</p>
<p align="center">
  <sup><b>左画像</b>：カレンダー（絵日記が生成された日付にはチェックがつく），<b>右画像</b>：生成される絵日記の例</sup>
</p>


## 🖼️ デモ動画



https://github.com/user-attachments/assets/ad3fb0f9-9d3c-4adb-a2ff-15f0b6857fc9

## 🖼️ デモ動画_解説版



https://github.com/user-attachments/assets/963fd587-91d3-4f41-9778-8184dc266b0d


## 👥 チームメンバー

* **[日野　快人]**
* **[古河　遼]**
* **[新　陸海]**
* **[河野　玲王]**
